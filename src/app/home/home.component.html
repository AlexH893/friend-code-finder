<meta
  name="description"
  content="Pokemon Go Friend Code finder that lets users submit their own code and add friends by viewing other submitted codes."
/>
<meta
  name="google-site-verification"
  content="IWhbL5WUmUDaigfWkyy6EEOSqq-imKCufnZzPOIlGPs"
/>
<meta name="keywords" content="Pokemon go, pokemon" />

<!--
    <button class="navbar-link"><a class="tut" href="https://ibb.co/BsCLdJs" target="blank">Usage Guide</a></button>
  -->
<div class="center">
  <div><h1>Pokémon Go Friend Codes</h1></div>
  <p class="blurb">
    Submit your code and copy codes to add in Pokémon Go. Codes can be
    resubmitted every 24hrs. <br />
  </p>

  <br />
  <img id="one" src="../../assets/one.png" tooltip="first" alt="first step" />
  <mat-form-field [formGroup]="codeForm">
    <mat-label>Friend Code</mat-label>
    <input
      tabindex="1"
      matInput
      type="text"
      code-mask
      [formControlName]=""
      [formControl]="codeForm.controls['code']"
      class="input__field"
      [maxLength]="14"
      [minlength]="14"
      required="true"
      autofocus
      autocomplete="on"
      id="codeInput"
    />
  </mat-form-field>

  <br />
  <div class="tooltip">
    <img id="two" src="../../assets/two.png" alt="second step" />
    <span class="tooltiptext"
      >Find your region by clicking your Vivillion medal in game</span
    >
  </div>

  <!-- Region -->
  <mat-form-field a>
    <mat-label>Region</mat-label>
    <input
      tabindex="2"
      type="text"
      aria-label="Region"
      matInput
      required="true"
      [formControl]="regionForm"
      [matAutocomplete]="auto"
      placeholder="Type or choose a region"
    />

    <mat-autocomplete isOpen="true" #auto="matAutocomplete">
      <mat-option
        *ngFor="let option of filteredJSONDataOptions | async"
        [value]="option.vivillion"
      >
        {{ option.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <br />

  <img id="three" src="../../assets/three.png" alt="step 3" />

  <!-- Submit button -->
  <button
    (click)="submitCode()"
    [disabled]="codeForm.invalid"
    id="submitBtn"
    tabindex="3"
  >
    Submit
  </button>
  <br />

  <!-- Vivillion Filter -->
  <mat-form-field id="vivFilter">
    <mat-label id="filterTxt">Vivillion pattern search e.g. 'Modern'</mat-label>
    <input
      matInput
      (keyup)="applyFilter($event)"
      #input
      [(ngModel)]="filterValue"
      [formControl]="filterForm"
    />
    <button
      class="clearBtn"
      *ngIf="filterValue"
      matSuffix
      aria-label="Clear"
      (click)="clearFilter()"
    >
      <img id="close" src="../../assets/close.png" alt="close filter" />
    </button>
  </mat-form-field>
</div>

<!-- Code Column -->
<table mat-table [dataSource]="codes" class="mat-elevation-z8 center2">
  <ng-container matColumnDef="code">
    <th mat-header-cell *matHeaderCellDef class="th">
      Recently submitted friend codes
      <label class="switch">
        <label class="switchLabel">Toggle QR Codes</label>
        <input type="checkbox" (click)="toggleQr(toggled)" />
        <span class="slider round"></span> </label
      ><br />
      <span style="font-size: 0.7em">Click/tap a code to copy</span>
    </th>
    <td
      mat-cell
      *matCellDef="let code"
      value="code"
      id="codeCell"
      class="code"
      style="cursor: auto"
    >
      <a
        style="cursor: pointer"
        [cdkCopyToClipboard]="code.code"
        (click)="
          showSnackbar('Friend code copied to clipboard', 'Dismiss', '1000')
        "
        class="codeTxt"
        id="code"
        >{{ code.code }}</a
      >
      <!--QR Code markup-->
      <qrcode
        class="qr"
        [qrdata]="code.code"
        [width]="256"
        [margin]="1"
        [errorCorrectionLevel]="'M'"
      >
      </qrcode>

      &nbsp;
      <div id="details" style="cursor: auto">
        <a class="region">{{ code.name }}</a
        ><a class="date">{{ code.createdAt }}</a>
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
<mat-paginator
  [pageSizeOptions]="[10, 20, 50, 100]"
  aria-label="Select page of users"
  style="margin: 0 auto"
></mat-paginator>

<div class="seoTxt">
  Looking for a way to share your Pokemon Go friend code with other players and
  receive gifts from all over the world? Look no further! Our platform lets
  users easily submit their Pokemon Go friend code and Vivillion region,
  allowing other players to find and add them to their friends list. With our
  easy-to-use interface and simple submission process, finding other players
  Pokemon Go friend codes has never been easier. Whether you're looking to
  expand your Vivillion collection or simply want to add & raid with new players
  from around the globe, our web app is the perfect solution. Join now and start
  sharing your Pokemon Go codes and Vivillion region!
</div>
