<meta
  name="description"
  content="Pokemon Go Friend Code finder that lets users submit their own code and add friends by viewing other submitted codes."
/>
<meta
  name="google-site-verification"
  content="IWhbL5WUmUDaigfWkyy6EEOSqq-imKCufnZzPOIlGPs"
/>
<meta name="keywords" content="Pokemon go, pokemon" />

<!--
    <button class="navbar-link"><a class="tut" href="https://ibb.co/BsCLdJs" target="blank">Usage Guide</a></button>
  -->
<div class="center">
  <div><h1>Pokémon Go Friend Codes</h1></div>
  <p class="blurb">
    Submit your code and copy codes to add in Pokémon Go. Codes can be bumped
    every 24hrs. <br />
  </p>

  <br />

  <mat-form-field [formGroup]="codeForm">
    <mat-label>Friend Code</mat-label>
    <input
      matInput
      type="text"
      code-mask
      [formControlName]=""
      [formControl]="codeForm.controls['code']"
      class="input__field"
      autofocus
      autocomplete="off"
      id="codeInput"
    />
  </mat-form-field>

  <br />

  <br />

  <mat-form-field appearance="fill">
    <mat-label>Region</mat-label>
    <input
      type="text"
      aria-label="Region"
      matInput
      [formControl]="regionForm"
      [matAutocomplete]="auto"
    />
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option
        *ngFor="let option of filteredJSONDataOptions | async"
        [value]="option.vivillion"
      >
        {{ option.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <br />

  <button (click)="submitCode()" [disabled]="codeForm.invalid" id="submitBtn">
    Submit
  </button>
  <br />
</div>
<br />
<!-- Code Column -->
<table mat-table [dataSource]="codes" class="mat-elevation-z8 center2">
  <ng-container matColumnDef="code">
    <th mat-header-cell *matHeaderCellDef class="th">
      Recently submitted friend codes<br />
      <span style="font-size: 0.7em">Click/tap a code to copy</span>
    </th>
    <td
      mat-cell
      *matCellDef="let code"
      value="code"
      class="code"
      style="cursor: pointer"
      [cdkCopyToClipboard]="code.code"
      (click)="
        showSnackbar('Friend code copied to clipboard', 'Dismiss', '1000')
      "
    >
      {{code.code}} {{ code.name}}<a class="date">{{ code.createdAt }}</a>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
<mat-paginator
  [pageSizeOptions]="[10, 20, 50, 100]"
  aria-label="Select page of users"
  style="width: 25vw; margin: 0 auto"
></mat-paginator>
