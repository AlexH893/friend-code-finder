{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"@angular/material/paginator\";\nimport * as i10 from \"@angular/cdk/clipboard\";\n\nfunction HomeComponent_th_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Recently submitted friend codes \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵlistener(\"click\", function HomeComponent_td_23_Template_td_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.showSnackbar(\"Friend code copied to clipboard\", \"Dismiss\", \"1000\");\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"a\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const code_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", code_r4)(\"cdkCopyToClipboard\", code_r4.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", code_r4.code, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(code_r4.createdAt);\n  }\n}\n\nfunction HomeComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 20);\n  }\n}\n\nfunction HomeComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\n\nconst _c0 = function () {\n  return [10, 20, 50, 100];\n};\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(http, fb, snackBar, meta, title //public dialog: MatDialogModule\n    ) {\n      this.http = http;\n      this.fb = fb;\n      this.snackBar = snackBar;\n      this.meta = meta;\n      this.title = title;\n      this.codeForm = new FormGroup({\n        code: new FormControl()\n      });\n      this.codes = new MatTableDataSource([]);\n      this.displayedColumns = ['code'];\n      this.meta.addTags([{\n        name: 'description',\n        content: 'Home page of Pokemon Go Friend Codes'\n      }, {\n        name: 'author',\n        content: 'stillworld'\n      }, {\n        name: 'keywords',\n        content: 'Pokemon, Pokemon Go Friend Codes, Pogo friend codes'\n      }]);\n      this.setTitle('Pokémon Go Friend Codes');\n    }\n\n    setTitle(newTitle) {\n      this.title.setTitle(newTitle);\n    }\n    /*\r\n     * Method to retrieve codes with API call\r\n     */\n\n\n    fetchCodes() {\n      this.http.get('http://localhost:4000/api/codes').subscribe(res => {\n        this.codes.data = res;\n        console.log(this.codes.data);\n      });\n    }\n\n    ngOnInit() {\n      this.fetchCodes();\n      this.codeForm = this.fb.group({\n        code: [null, Validators.compose([Validators.required, Validators.pattern('^\\\\d{12}$') //Allows for only 12 digits\n        ])]\n      });\n    }\n\n    ngAfterViewInit() {\n      this.codes.paginator = this.paginator;\n    }\n\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.codes.filter = filterValue.trim().toLowerCase();\n\n      if (this.codes.paginator) {\n        this.codes.paginator.firstPage();\n      }\n    }\n\n    submitCode() {\n      const codeInput = this.codeForm.value;\n      this.http.post('http://localhost:3000/api/codes', {\n        // this fixed heroku error, change back to /api/codes for prod\n        code: codeInput.code\n      }).subscribe(res => {\n        alert('code success');\n        window.location.reload(); // Will update to async pipe later\n      });\n    }\n\n    showSnackbar(content, action, duration) {\n      this.snackBar.open(content, action, {\n        duration: 1000,\n        verticalPosition: 'top',\n        horizontalPosition: 'center' // Allowed values are 'start' | 'center' | 'end' | 'left' | 'right'\n\n      });\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.Meta), i0.ɵɵdirectiveInject(i4.Title));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    viewQuery: function HomeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 27,\n    vars: 8,\n    consts: [[\"name\", \"description\", \"content\", \"Pokemon Go Friend Code finder that lets users submit their own code and add friends by viewing other submitted codes.\"], [1, \"card\"], [\"routerLink\", \"/\", \"mat-button\", \"\", 1, \"navbar-link\"], [1, \"center\"], [1, \"blurb\"], [3, \"formGroup\"], [1, \"input\"], [\"matInput\", \"\", \"type\", \"text\", \"autofocus\", \"\", \"autocomplete\", \"off\", \"id\", \"codeInput\", 1, \"input__field\", 3, \"formControl\"], [1, \"input__label\"], [\"id\", \"submitBtn\", 3, \"disabled\", \"click\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", \"center2\", 3, \"dataSource\"], [\"matColumnDef\", \"code\"], [\"mat-header-cell\", \"\", \"class\", \"th\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"code\", \"style\", \"cursor: pointer\", 3, \"value\", \"cdkCopyToClipboard\", \"click\", 4, \"matCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"aria-label\", \"Select page of users\", 2, \"width\", \"25vw\", \"margin\", \"0 auto\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\", 1, \"th\"], [\"mat-cell\", \"\", 1, \"code\", 2, \"cursor\", \"pointer\", 3, \"value\", \"cdkCopyToClipboard\", \"click\"], [1, \"date\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"meta\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"button\", 2);\n        i0.ɵɵtext(3, \"Usage Guide\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵelementStart(6, \"h1\");\n        i0.ɵɵtext(7, \"Pok\\u00E9mon Go Friend Codes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\", 4);\n        i0.ɵɵtext(9, \" Welcome, here you can enter you Pok\\u00E9mon Go Friend Code so people can add you from all over the world! Simply submit your code and copy codes to add in Pok\\u00E9mon Go. Codes can be bumped every 24hrs. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelementStart(11, \"mat-form-field\", 5);\n        i0.ɵɵelementStart(12, \"label\", 6);\n        i0.ɵɵelement(13, \"input\", 7);\n        i0.ɵɵelementStart(14, \"span\", 8);\n        i0.ɵɵtext(15, \"Your friend code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_16_listener() {\n          return ctx.submitCode();\n        });\n        i0.ɵɵtext(17, \" Submit Code \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"br\");\n        i0.ɵɵelementStart(20, \"table\", 10);\n        i0.ɵɵelementContainerStart(21, 11);\n        i0.ɵɵtemplate(22, HomeComponent_th_22_Template, 2, 0, \"th\", 12);\n        i0.ɵɵtemplate(23, HomeComponent_td_23_Template, 4, 4, \"td\", 13);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(24, HomeComponent_tr_24_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵtemplate(25, HomeComponent_tr_25_Template, 1, 0, \"tr\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"mat-paginator\", 16);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.codeForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formControl\", ctx.codeForm.controls[\"code\"]);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.codeForm.invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataSource\", ctx.codes);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(7, _c0));\n      }\n    },\n    directives: [i5.RouterLink, i6.MatFormField, i2.NgControlStatusGroup, i2.FormGroupDirective, i7.MatInput, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlDirective, i8.MatTable, i8.MatColumnDef, i8.MatHeaderCellDef, i8.MatCellDef, i8.MatHeaderRowDef, i8.MatRowDef, i9.MatPaginator, i8.MatHeaderCell, i8.MatCell, i10.CdkCopyToClipboard, i8.MatHeaderRow, i8.MatRow],\n    styles: [\"[_ngcontent-%COMP%]:root{--color-light: white;--color-dark: #212121;--color-signal: #fab700;--color-background: var(--color-light);--color-text: var(--color-dark);--color-accent: var(--color-signal);--size-bezel: .5rem;--size-radius: 4px;line-height:1.4;font-family:Inter,sans-serif;font-size:calc(.6rem + .4vw);color:var(--color-text);background:var(--color-background);font-weight:300;padding:0 calc(var(--size-bezel) * 3)}html[_ngcontent-%COMP%]{background-color:#fff}.center[_ngcontent-%COMP%]{text-align:center;width:100%}.center2[_ngcontent-%COMP%]{text-align:center;margin:auto;width:25%}.card[_ngcontent-%COMP%]{margin:auto;width:30%;background:white;padding:2rem;margin-top:2rem;border-radius:4px;border:3px solid black;box-shadow:.5rem .5rem #000}@media (max-width: 428px){.card[_ngcontent-%COMP%]{width:75vw}}@media all and (max-width: 30em){a.copyBtn[_ngcontent-%COMP%]{display:block;margin:.4em auto}}a.date[_ngcontent-%COMP%]{font-size:.7em;margin-left:20px}.input[_ngcontent-%COMP%]{position:relative}.input__label[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:calc(var(--size-bezel) * .75) calc(var(--size-bezel) * .5);margin:calc(var(--size-bezel) * .75 + 3px) calc(var(--size-bezel) * .5);background:white;white-space:nowrap;transform:translate(0);transform-origin:0 0;background:var(--color-background);transition:transform .12s ease-in;font-weight:700;line-height:1.2;font-size:.8rem}.input__field[_ngcontent-%COMP%]{box-sizing:border-box;display:block;width:100%;border:3px solid currentColor;padding:calc(var(--size-bezel) * 1.5) var(--size-bezel);color:currentColor;background:transparent;border-radius:var(--size-radius)}.input__field[_ngcontent-%COMP%]:focus + .input__label[_ngcontent-%COMP%], .input__field[_ngcontent-%COMP%]:not(:placeholder-shown) + .input__label[_ngcontent-%COMP%]{transform:translate(.25rem,-65%) scale(.8);color:var(--color-accent)}p.blurb[_ngcontent-%COMP%]{width:30vw;margin:0 auto}@media (max-width: 428px){p.blurb[_ngcontent-%COMP%]{width:75vw}}#submitBtn[_ngcontent-%COMP%]{margin-left:3em;cursor:pointer;color:currentColor;padding:var(--size-bezel) calc(var(--size-bezel) * 2);background:var(--color-accent);border:3px solid currentColor;border-radius:var(--size-radius);font-weight:900;margin-top:calc(var(--size-bezel) * 2.5)}#submitBtn[_ngcontent-%COMP%]:hover{background:#fab700}#submitBtn[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.th[_ngcontent-%COMP%], .code[_ngcontent-%COMP%]{display:contents;white-space:nowrap}.mat-paginator[_ngcontent-%COMP%]{display:contents}.navbar-link[_ngcontent-%COMP%]{cursor:pointer;color:currentColor;background:var(--color-accent);border:3px solid currentColor;border-radius:var(--size-radius);font-weight:900}.navbar-link[_ngcontent-%COMP%]:hover{background:#fab700;cursor:help}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}